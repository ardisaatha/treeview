import{useEffect as R,useState as s}from"react";import{useState as L}from"react";import{jsx as i,jsxs as v}from"react/jsx-runtime";function r({data:o,onLeafClick:l}){let[a,u]=L([]),f=e=>{u(n=>n.includes(e)?n.filter(p=>p!==e):[...n,e])};return i("ul",{className:"list-none pl-2 space-y-1",children:o.map(e=>v("li",{children:[v("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 rounded p-1",onClick:()=>e.children&&e.children.length>0?f(e.id):l(e),children:[e.children&&e.children.length>0&&i("span",{children:a.includes(e.id)?"\u25BC":"\u25B6"}),i("span",{children:e.name})]}),e.children&&e.children.length>0&&a.includes(e.id)&&i(r,{data:e.children,onLeafClick:l})]},e.id))})}import{jsx as d,jsxs as N}from"react/jsx-runtime";function b({node:o,onConfirm:l,onCancel:a}){return d("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",children:N("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[N("h3",{className:"text-lg font-semibold mb-4",children:["Action for ",o.name]}),d("p",{className:"mb-4 text-gray-600",children:"Are you sure you want to perform this action?"}),N("div",{className:"flex justify-end gap-2",children:[d("button",{className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300",onClick:a,children:"Cancel"}),d("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:l,children:"Confirm"})]})]})})}import{jsx as c,jsxs as m}from"react/jsx-runtime";function x({fetchLeftData:o,fetchRightData:l,onModalConfirm:a,onModalCancel:u}){let[f,e]=s([]),[n,p]=s([]),[T,C]=s(null),[h,g]=s(null);R(()=>{o().then(e)},[o]);let y=async t=>{if(t.children&&t.children.length>0)return;C(t);let k=await l(t.id);p(k)},w=t=>{t.children&&t.children.length>0||g(t)};return m("div",{className:"flex gap-4 p-4",children:[m("div",{className:"w-1/3 bg-white rounded-xl shadow p-4",children:[c("h2",{className:"font-semibold text-lg mb-2",children:"Left Tree"}),c(r,{data:f,onLeafClick:y})]}),T&&m("div",{className:"w-1/3 bg-white rounded-xl shadow p-4",children:[m("h2",{className:"font-semibold text-lg mb-2",children:["Right Tree: ",T.name]}),c(r,{data:n,onLeafClick:w})]}),h&&c(b,{node:h,onConfirm:()=>{a(h),g(null)},onCancel:()=>{u(),g(null)}})]})}var I=x;export{x as TreeContentLayout,I as default};

import{useEffect as y,useState as N}from"react";import{useState as v}from"react";import{jsx as l,jsxs as f}from"react/jsx-runtime";function o({data:r,onLeafClick:c,iconOpen:s,iconClose:a,level:d=0}){let[i,m]=v([]),h=e=>{m(n=>n.includes(e)?n.filter(u=>u!==e):[...n,e])};return l("ul",{className:"list-none pl-0 space-y-1",children:r.map(e=>f("li",{children:[f("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 rounded p-1",style:{paddingLeft:`${d*16}px`},onClick:()=>e.children&&e.children.length>0?h(e.id):c(e),children:[e.children&&e.children.length>0?l("span",{children:i.includes(e.id)?"\u25BC":"\u25B6"}):l("span",{className:"w-4"}),l("span",{children:e.name}),a&&f("span",{className:"ml-1",children:[" ",i.includes(e.id)?s:a]})," "]}),e.children&&e.children.length>0&&i.includes(e.id)&&l(o,{data:e.children,onLeafClick:c,iconClose:a,iconOpen:s,level:d+1})]},e.id))})}import{jsx as g,jsxs as p}from"react/jsx-runtime";function R({fetchLeftData:r,fetchRightData:c,onRightLeafClick:s,iconLeftClose:a,iconLeftOpen:d,iconRightClose:i,iconRightOpen:m}){let[h,e]=N([]),[n,u]=N([]),[T,w]=N(null);y(()=>{r().then(e)},[r]);let C=async t=>{if(t.children&&t.children.length>0)return;w(t);let L=await c(t.id);u(L)},x=t=>{t.children&&t.children.length>0||s(t)};return p("div",{className:"flex gap-4 p-4",children:[p("div",{className:"w-1/3 bg-white rounded-xl shadow p-4",children:[g("h2",{className:"font-semibold text-lg mb-2",children:"Left Tree"}),g(o,{iconClose:a,iconOpen:d,data:h,onLeafClick:C})]}),T&&p("div",{className:"w-1/3 bg-white rounded-xl shadow p-4",children:[p("h2",{className:"font-semibold text-lg mb-2",children:["Right Tree: ",T.name]}),g(o,{iconClose:i,iconOpen:m,data:n,onLeafClick:x})]})]})}var H=R;export{R as TreeContentLayout,H as default};
